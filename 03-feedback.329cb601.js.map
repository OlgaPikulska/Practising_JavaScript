{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SACA,MAuBMC,EAAOC,SAASC,cAAc,kBAIpCF,EAAKG,iBAAiB,QAASC,EAAAN,GAAEO,UAEjC,SAAqBC,GACjBA,EAAIC,iBACJ,MAAMC,EAAW,CACjBC,MAAOT,EAAKU,SAASD,MAAME,MAC3BC,QAAQZ,EAAKU,SAASE,QAAQD,OAE9BE,aAAaC,QAXQ,sBAWkBC,KAAKC,UAAUR,IAGtDS,QAAQC,IAAIlB,EAAKU,SAASD,MAAME,OAChCM,QAAQC,IAAIlB,EAAKU,SAASE,QAAQD,M,GAZgB,MAgBtDQ,OAAOhB,iBAAiB,QAExB,WACiB,CAAAiB,IACf,IACE,MAAMC,EAAkBR,aAAaS,QAAQF,GAClB,OAApBC,GAAuCN,KAAKQ,MAAMF,E,CACzD,MAAOG,GACPP,QAAQO,MAAM,oBAAqBA,EAAMZ,Q,GAGzCa,CA9BqB,uBA+B0B,OAA3CZ,aAAaS,QA/BI,yBAgCjBtB,EAAKU,SAASD,MAAME,MAhCH,sBAgC4BF,MAC7CT,EAAKU,SAASE,QAAQD,MAjCL,sBAiC8BC,Q","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\nconst save = (key, value) => {\n    try {\n        const serializedState = JSON.stringify(value);\n        localStorage.setItem(key, serializedState);\n    } catch (error) {\n        console.error(\"Set state error: \", error.message);\n    }\n};\nconst load = key => {\n    try {\n        const serializedState = localStorage.getItem(key);\n        return serializedState === null ? undefined : JSON.parse(serializedState);\n    } catch (error) {\n        console.error(\"Get state error: \", error.message);\n    }\n};\nconst remove = key => {\n    try {\n        localStorage.removeItem(key);\n    } catch (error) {\n        console.error(\"Get state error: \", error.message);\n    }\n};\nconst form = document.querySelector(\".feedback-form\");\nconst LOCALSTORAGE_KEY = \"feedback-form-state\";\n\n\nform.addEventListener(\"input\", _.throttle(saveMessage,1000));\n\nfunction saveMessage(evt) {\n    evt.preventDefault();\n    const feedback = {\n    email: form.elements.email.value,\n    message:form.elements.message.value,\n    }\n    localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(feedback));\n  \n    \n    console.log(form.elements.email.value);\n    console.log(form.elements.message.value);\n  //form.reset();\n}\n\nwindow.addEventListener(\"load\", checkStorage)\n\nfunction checkStorage() {\n    const load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error(\"Get state error: \", error.message);\n  }\n};\n    load(LOCALSTORAGE_KEY)\n    if (localStorage.getItem(LOCALSTORAGE_KEY) !== null) {\n        form.elements.email.value = LOCALSTORAGE_KEY.email;\n        form.elements.message.value = LOCALSTORAGE_KEY.message;\n    } \n}\n\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","addEventListener","$parcel$interopDefault","throttle","evt","preventDefault","feedback","email","elements","value","message","localStorage","setItem","JSON","stringify","console","log","window","key","serializedState","getItem","parse","error","load1"],"version":3,"file":"03-feedback.329cb601.js.map"}