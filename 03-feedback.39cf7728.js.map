{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAwBMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAmB,sBAGzBH,EAAKI,iBAAiB,QAASC,EAAAP,GAAEQ,UAEjC,SAAqBC,GACjBA,EAAIC,iBACJ,IAAMC,EAAW,CACjBC,MAAOV,EAAKW,SAASD,MAAME,MAC3BC,QAAQb,EAAKW,SAASE,QAAQD,OAE9BE,aAAaC,QAAQZ,EAAkBa,KAAKC,UAAUR,IAGtDS,QAAQC,IAAInB,EAAKW,SAASD,MAAME,OAChCM,QAAQC,IAAInB,EAAKW,SAASE,QAAQD,M,GAZgB,MAgBtDQ,OAAOhB,iBAAiB,QAExB,YACiB,SAAAiB,GACf,IACE,IAAMC,EAAkBR,aAAaS,QAAQF,GAClB,OAApBC,GAAuCN,KAAKQ,MAAMF,E,CACzD,MAAOG,GACPP,QAAQO,MAAM,oBAAqBA,EAAMZ,Q,GAGzCa,CAAKvB,GAC0C,OAA3CW,aAAaS,QAAQpB,KACrBH,EAAKW,SAASD,MAAME,MAAQT,EAAiBO,MAC7CV,EAAKW,SAASE,QAAQD,MAAQT,EAAiBU,Q","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\nconst save = (key, value) => {\n    try {\n        const serializedState = JSON.stringify(value);\n        localStorage.setItem(key, serializedState);\n    } catch (error) {\n        console.error(\"Set state error: \", error.message);\n    }\n};\nconst load = key => {\n    try {\n        const serializedState = localStorage.getItem(key);\n        return serializedState === null ? undefined : JSON.parse(serializedState);\n    } catch (error) {\n        console.error(\"Get state error: \", error.message);\n    }\n};\nconst remove = key => {\n    try {\n        localStorage.removeItem(key);\n    } catch (error) {\n        console.error(\"Get state error: \", error.message);\n    }\n};\nconst form = document.querySelector(\".feedback-form\");\nconst LOCALSTORAGE_KEY = \"feedback-form-state\";\n\n\nform.addEventListener(\"input\", _.throttle(saveMessage,1000));\n\nfunction saveMessage(evt) {\n    evt.preventDefault();\n    const feedback = {\n    email: form.elements.email.value,\n    message:form.elements.message.value,\n    }\n    localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(feedback));\n  \n    \n    console.log(form.elements.email.value);\n    console.log(form.elements.message.value);\n  //form.reset();\n}\n\nwindow.addEventListener(\"load\", checkStorage)\n\nfunction checkStorage() {\n    const load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error(\"Get state error: \", error.message);\n  }\n};\n    load(LOCALSTORAGE_KEY)\n    if (localStorage.getItem(LOCALSTORAGE_KEY) !== null) {\n        form.elements.email.value = LOCALSTORAGE_KEY.email;\n        form.elements.message.value = LOCALSTORAGE_KEY.message;\n    } \n}\n\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$LOCALSTORAGE_KEY","addEventListener","$parcel$interopDefault","throttle","evt","preventDefault","feedback","email","elements","value","message","localStorage","setItem","JSON","stringify","console","log","window","key","serializedState","getItem","parse","error","load1"],"version":3,"file":"03-feedback.39cf7728.js.map"}