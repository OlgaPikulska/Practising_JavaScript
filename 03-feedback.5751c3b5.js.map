{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,aAEMC,EAAOC,SAASC,cAAc,SAC9BC,EAAUF,SAASC,cAAc,YACjCE,EAAOH,SAASC,cAAc,kBAC9BG,EAAmB,sBAGzBD,EAAKE,iBAAiB,QAASC,EAAAT,GAAEU,UAEjC,WACI,IAAMC,EAAW,CACbC,MAAOV,EAAKW,MACZC,QAAST,EAAQQ,OAErBE,EAAAC,QAAgBC,KAAKV,EAAkBI,E,GAPW,MAStD,IAAMO,EAAcH,EAAAC,QAAgBG,KAAKZ,GAEzCa,OAAOZ,iBAAiB,QAExB,WACQU,GACAhB,EAAKW,MAAQK,EAAYN,MACzBP,EAAQQ,MAAQK,EAAYJ,UAE5BZ,EAAKW,MAAQ,IACbR,EAAQQ,MAAQ,I,IAIxBP,EAAKE,iBAAiB,UAEtB,SAAqBa,GACjBA,EAAMC,iBACNC,QAAQC,IAAIN,GACZZ,EAAKmB,QACLV,EAAAC,QAAgBU,OAAOnB,E","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\nimport * as storage from './storage';\nconst mail = document.querySelector(\"input\")\nconst message = document.querySelector(\"textarea\")\nconst form = document.querySelector(\".feedback-form\");\nconst LOCALSTORAGE_KEY = \"feedback-form-state\";\n\n\nform.addEventListener(\"input\", _.throttle(saveMessage,500));\n\nfunction saveMessage() {\n    const feedback = {\n        email: mail.value,\n        message: message.value,\n    }\n    storage.default.save(LOCALSTORAGE_KEY, feedback);\n}\nconst parsedInput = storage.default.load(LOCALSTORAGE_KEY);\n\nwindow.addEventListener(\"load\", checkStorage)\n\nfunction checkStorage() {\n    if (parsedInput) {\n        mail.value = parsedInput.email;\n        message.value = parsedInput.message;  \n    } else {\n        mail.value = \" \";\n        message.value = \" \";\n    }\n}\n\nform.addEventListener(\"submit\", afterSubmit)\n\nfunction afterSubmit(event) {\n    event.preventDefault();\n    console.log(parsedInput)\n    form.reset();\n    storage.default.remove(LOCALSTORAGE_KEY);\n}"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$mail","document","querySelector","$b00c40859be242c5$var$message","$b00c40859be242c5$var$form","$b00c40859be242c5$var$LOCALSTORAGE_KEY","addEventListener","$parcel$interopDefault","throttle","feedback","email","value","message","$jzQFI","default","save","$b00c40859be242c5$var$parsedInput","load","window","event","preventDefault","console","log","reset","remove"],"version":3,"file":"03-feedback.5751c3b5.js.map"}