{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,aAEA,MAAMC,EAAOC,SAASC,cAAc,SAC9BC,EAAUF,SAASC,cAAc,YACjCE,EAAOH,SAASC,cAAc,kBAIpCE,EAAKC,iBAAiB,QAASC,EAAAR,GAAES,UAEjC,WACI,MAAMC,EAAW,CACbC,MAAOT,EAAKU,MACZC,QAASR,EAAQO,OAErBE,EAAAC,QAAgBC,KAVK,sBAUkBN,E,GAPW,MAStD,MAAMO,EAAcH,EAAAC,QAAgBG,KAZX,uBAczBC,OAAOZ,iBAAiB,QAExB,WACQU,GACAf,EAAKU,MAAQK,EAAYN,MACzBN,EAAQO,MAAQK,EAAYJ,UAE5BX,EAAKU,MAAQ,IACbP,EAAQO,MAAQ,I,IAIxBN,EAAKC,iBAAiB,UAEtB,SAAqBa,GACjBA,EAAMC,iBACNC,QAAQC,IAAIN,GACZX,EAAKkB,QACLV,EAAAC,QAAgBU,OAhCK,sB","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\nimport * as storage from './storage';\nconst mail = document.querySelector(\"input\")\nconst message = document.querySelector(\"textarea\")\nconst form = document.querySelector(\".feedback-form\");\nconst LOCALSTORAGE_KEY = \"feedback-form-state\";\n\n\nform.addEventListener(\"input\", _.throttle(saveMessage,1000));\n\nfunction saveMessage() {\n    const feedback = {\n        email: mail.value,\n        message: message.value,\n    }\n    storage.default.save(LOCALSTORAGE_KEY, feedback);\n}\nconst parsedInput = storage.default.load(LOCALSTORAGE_KEY);\n\nwindow.addEventListener(\"load\", checkStorage)\n\nfunction checkStorage() {\n    if (parsedInput) {\n        mail.value = parsedInput.email;\n        message.value = parsedInput.message;  \n    } else {\n        mail.value = \" \";\n        message.value = \" \";\n    }\n}\n\nform.addEventListener(\"submit\", afterSubmit)\n\nfunction afterSubmit(event) {\n    event.preventDefault();\n    console.log(parsedInput)\n    form.reset();\n    storage.default.remove(LOCALSTORAGE_KEY);\n}"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$mail","document","querySelector","$945622fd0f572e60$var$message","$945622fd0f572e60$var$form","addEventListener","$parcel$interopDefault","throttle","feedback","email","value","message","$5uEKZ","default","save","$945622fd0f572e60$var$parsedInput","load","window","event","preventDefault","console","log","reset","remove"],"version":3,"file":"03-feedback.df1408d2.js.map"}